{"abi":[{"type":"error","name":"InvalidShortString","inputs":[]},{"type":"error","name":"StringTooLong","inputs":[{"name":"str","type":"string","internalType":"string"}]}],"bytecode":{"object":"0x60556032600b8282823980515f1a607314602657634e487b7160e01b5f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f80fdfea2646970667358221220460a6f342130a3fd95d169f22f3f6d38d3048a6fd7d8298b8fcee27b0dd2da3564736f6c63430008180033","sourceMap":"1255:3026:109:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;1255:3026:109;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x730000000000000000000000000000000000000000301460806040525f80fdfea2646970667358221220460a6f342130a3fd95d169f22f3f6d38d3048a6fd7d8298b8fcee27b0dd2da3564736f6c63430008180033","sourceMap":"1255:3026:109:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"InvalidShortString\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"str\",\"type\":\"string\"}],\"name\":\"StringTooLong\",\"type\":\"error\"}],\"devdoc\":{\"details\":\"This library provides functions to convert short memory strings into a `ShortString` type that can be used as an immutable variable. Strings of arbitrary length can be optimized using this library if they are short enough (up to 31 bytes) by packing them with their length (1 byte) in a single EVM word (32 bytes). Additionally, a fallback mechanism can be used for every other case. Usage example: ```solidity contract Named {     using ShortStrings for *;     ShortString private immutable _name;     string private _nameFallback;     constructor(string memory contractName) {         _name = contractName.toShortStringWithFallback(_nameFallback);     }     function name() external view returns (string memory) {         return _name.toStringWithFallback(_nameFallback);     } } ```\",\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol\":\"ShortStrings\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":999},\"remappings\":[\":@balancer-labs/v3-interfaces/=lib/balancer-v3-monorepo/pkg/interfaces/\",\":@balancer-labs/v3-pool-utils/=lib/balancer-v3-monorepo/pkg/pool-utils/\",\":@balancer-labs/v3-pool-weighted/=lib/balancer-v3-monorepo/pkg/pool-weighted/\",\":@balancer-labs/v3-solidity-utils/=lib/balancer-v3-monorepo/pkg/solidity-utils/\",\":@balancer-labs/v3-vault/=lib/balancer-v3-monorepo/pkg/vault/\",\":@openzeppelin/=lib/openzeppelin-contracts/\",\":@test/=lib/balancer-v3-monorepo/pkg/\",\":ds-test/=../../node_modules/forge-std/lib/ds-test/src/\",\":forge-gas-snapshot/=lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":permit2/=lib/permit2/\",\":pool-weighted/=../pool-weighted/\",\":solidity-bytes-utils/=lib/solidity-bytes-utils/contracts/\",\":solidity-utils/=../solidity-utils/\",\":vault/=../vault/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol\":{\"keccak256\":\"0xbbd677d9730e606a98a8e99c66ea2665e1be7b2218245ab4bc8340f5d148c032\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4220d046e8bb1591d65a95fe8f85474f4fd4ef88679f7960c5a25d2be40edd7b\",\"dweb:/ipfs/QmcWmnwx82BAWKBDGxjmtgmHtgf9Mgo4PTTxvGFb2CJ7Kr\"]},\"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol\":{\"keccak256\":\"0xb38a945832ca380d4ed08d91a6ebaf03fd66ea02057e574384fae3abf3ebc136\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f933ce488ce79c1366d44dca530b1cc4db25fa1380ae691effdd5e3eec8fd8a5\",\"dweb:/ipfs/Qmdyk8pSJasc9pZaRFRdmtX85BCs5faQ8xUKiWnzaEkFEt\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"InvalidShortString"},{"inputs":[{"internalType":"string","name":"str","type":"string"}],"type":"error","name":"StringTooLong"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@balancer-labs/v3-interfaces/=lib/balancer-v3-monorepo/pkg/interfaces/","@balancer-labs/v3-pool-utils/=lib/balancer-v3-monorepo/pkg/pool-utils/","@balancer-labs/v3-pool-weighted/=lib/balancer-v3-monorepo/pkg/pool-weighted/","@balancer-labs/v3-solidity-utils/=lib/balancer-v3-monorepo/pkg/solidity-utils/","@balancer-labs/v3-vault/=lib/balancer-v3-monorepo/pkg/vault/","@openzeppelin/=lib/openzeppelin-contracts/","@test/=lib/balancer-v3-monorepo/pkg/","ds-test/=../../node_modules/forge-std/lib/ds-test/src/","forge-gas-snapshot/=lib/permit2/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","permit2/=lib/permit2/","pool-weighted/=../pool-weighted/","solidity-bytes-utils/=lib/solidity-bytes-utils/contracts/","solidity-utils/=../solidity-utils/","vault/=../vault/"],"optimizer":{"enabled":true,"runs":999},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol":"ShortStrings"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol":{"keccak256":"0xbbd677d9730e606a98a8e99c66ea2665e1be7b2218245ab4bc8340f5d148c032","urls":["bzz-raw://4220d046e8bb1591d65a95fe8f85474f4fd4ef88679f7960c5a25d2be40edd7b","dweb:/ipfs/QmcWmnwx82BAWKBDGxjmtgmHtgf9Mgo4PTTxvGFb2CJ7Kr"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol":{"keccak256":"0xb38a945832ca380d4ed08d91a6ebaf03fd66ea02057e574384fae3abf3ebc136","urls":["bzz-raw://f933ce488ce79c1366d44dca530b1cc4db25fa1380ae691effdd5e3eec8fd8a5","dweb:/ipfs/Qmdyk8pSJasc9pZaRFRdmtX85BCs5faQ8xUKiWnzaEkFEt"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol","id":54789,"exportedSymbols":{"ShortString":[54577],"ShortStrings":[54788],"StorageSlot":[55107]},"nodeType":"SourceUnit","src":"106:4176:109","nodes":[{"id":54573,"nodeType":"PragmaDirective","src":"106:24:109","nodes":[],"literals":["solidity","^","0.8",".20"]},{"id":54575,"nodeType":"ImportDirective","src":"132:46:109","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol","file":"./StorageSlot.sol","nameLocation":"-1:-1:-1","scope":54789,"sourceUnit":55108,"symbolAliases":[{"foreign":{"id":54574,"name":"StorageSlot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55107,"src":"140:11:109","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":54577,"nodeType":"UserDefinedValueTypeDefinition","src":"348:28:109","nodes":[],"canonicalName":"ShortString","name":"ShortString","nameLocation":"353:11:109","underlyingType":{"id":54576,"name":"bytes32","nodeType":"ElementaryTypeName","src":"368:7:109","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},{"id":54788,"nodeType":"ContractDefinition","src":"1255:3026:109","nodes":[{"id":54581,"nodeType":"VariableDeclaration","src":"1345:111:109","nodes":[],"constant":true,"mutability":"constant","name":"FALLBACK_SENTINEL","nameLocation":"1370:17:109","scope":54788,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":54579,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1345:7:109","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307830303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030304646","id":54580,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1390:66:109","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0x00000000000000000000000000000000000000000000000000000000000000FF"},"visibility":"private"},{"id":54585,"nodeType":"ErrorDefinition","src":"1463:32:109","nodes":[],"errorSelector":"305a27a9","name":"StringTooLong","nameLocation":"1469:13:109","parameters":{"id":54584,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54583,"mutability":"mutable","name":"str","nameLocation":"1490:3:109","nodeType":"VariableDeclaration","scope":54585,"src":"1483:10:109","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":54582,"name":"string","nodeType":"ElementaryTypeName","src":"1483:6:109","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1482:12:109"}},{"id":54587,"nodeType":"ErrorDefinition","src":"1500:27:109","nodes":[],"errorSelector":"b3512b0c","name":"InvalidShortString","nameLocation":"1506:18:109","parameters":{"id":54586,"nodeType":"ParameterList","parameters":[],"src":"1524:2:109"}},{"id":54631,"nodeType":"FunctionDefinition","src":"1708:286:109","nodes":[],"body":{"id":54630,"nodeType":"Block","src":"1786:208:109","nodes":[],"statements":[{"assignments":[54597],"declarations":[{"constant":false,"id":54597,"mutability":"mutable","name":"bstr","nameLocation":"1809:4:109","nodeType":"VariableDeclaration","scope":54630,"src":"1796:17:109","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":54596,"name":"bytes","nodeType":"ElementaryTypeName","src":"1796:5:109","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":54602,"initialValue":{"arguments":[{"id":54600,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54590,"src":"1822:3:109","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":54599,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1816:5:109","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":54598,"name":"bytes","nodeType":"ElementaryTypeName","src":"1816:5:109","typeDescriptions":{}}},"id":54601,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1816:10:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"1796:30:109"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":54606,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":54603,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54597,"src":"1840:4:109","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":54604,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1845:6:109","memberName":"length","nodeType":"MemberAccess","src":"1840:11:109","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3331","id":54605,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1854:2:109","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"31"},"src":"1840:16:109","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54612,"nodeType":"IfStatement","src":"1836:72:109","trueBody":{"id":54611,"nodeType":"Block","src":"1858:50:109","statements":[{"errorCall":{"arguments":[{"id":54608,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54590,"src":"1893:3:109","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":54607,"name":"StringTooLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54585,"src":"1879:13:109","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":54609,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1879:18:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":54610,"nodeType":"RevertStatement","src":"1872:25:109"}]}},{"expression":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":54626,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":54621,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54597,"src":"1965:4:109","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":54620,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1957:7:109","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":54619,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1957:7:109","typeDescriptions":{}}},"id":54622,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1957:13:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":54618,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1949:7:109","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":54617,"name":"uint256","nodeType":"ElementaryTypeName","src":"1949:7:109","typeDescriptions":{}}},"id":54623,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1949:22:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"expression":{"id":54624,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54597,"src":"1974:4:109","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":54625,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1979:6:109","memberName":"length","nodeType":"MemberAccess","src":"1974:11:109","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1949:36:109","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":54616,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1941:7:109","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":54615,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1941:7:109","typeDescriptions":{}}},"id":54627,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1941:45:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":54613,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54577,"src":"1924:11:109","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$54577_$","typeString":"type(ShortString)"}},"id":54614,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1936:4:109","memberName":"wrap","nodeType":"MemberAccess","src":"1924:16:109","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$54577_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":54628,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1924:63:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}},"functionReturnParameters":54595,"id":54629,"nodeType":"Return","src":"1917:70:109"}]},"documentation":{"id":54588,"nodeType":"StructuredDocumentation","src":"1533:170:109","text":" @dev Encode a string of at most 31 chars into a `ShortString`.\n This will trigger a `StringTooLong` error is the input string is too long."},"implemented":true,"kind":"function","modifiers":[],"name":"toShortString","nameLocation":"1717:13:109","parameters":{"id":54591,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54590,"mutability":"mutable","name":"str","nameLocation":"1745:3:109","nodeType":"VariableDeclaration","scope":54631,"src":"1731:17:109","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":54589,"name":"string","nodeType":"ElementaryTypeName","src":"1731:6:109","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1730:19:109"},"returnParameters":{"id":54595,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54594,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":54631,"src":"1773:11:109","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"},"typeName":{"id":54593,"nodeType":"UserDefinedTypeName","pathNode":{"id":54592,"name":"ShortString","nameLocations":["1773:11:109"],"nodeType":"IdentifierPath","referencedDeclaration":54577,"src":"1773:11:109"},"referencedDeclaration":54577,"src":"1773:11:109","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}},"visibility":"internal"}],"src":"1772:13:109"},"scope":54788,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":54657,"nodeType":"FunctionDefinition","src":"2078:378:109","nodes":[],"body":{"id":54656,"nodeType":"Block","src":"2152:304:109","nodes":[],"statements":[{"assignments":[54641],"declarations":[{"constant":false,"id":54641,"mutability":"mutable","name":"len","nameLocation":"2170:3:109","nodeType":"VariableDeclaration","scope":54656,"src":"2162:11:109","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54640,"name":"uint256","nodeType":"ElementaryTypeName","src":"2162:7:109","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":54645,"initialValue":{"arguments":[{"id":54643,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54635,"src":"2187:4:109","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}],"id":54642,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54689,"src":"2176:10:109","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$54577_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":54644,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2176:16:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2162:30:109"},{"assignments":[54647],"declarations":[{"constant":false,"id":54647,"mutability":"mutable","name":"str","nameLocation":"2294:3:109","nodeType":"VariableDeclaration","scope":54656,"src":"2280:17:109","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":54646,"name":"string","nodeType":"ElementaryTypeName","src":"2280:6:109","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"id":54652,"initialValue":{"arguments":[{"hexValue":"3332","id":54650,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2311:2:109","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"}],"id":54649,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"2300:10:109","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_string_memory_ptr_$","typeString":"function (uint256) pure returns (string memory)"},"typeName":{"id":54648,"name":"string","nodeType":"ElementaryTypeName","src":"2304:6:109","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}}},"id":54651,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2300:14:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"nodeType":"VariableDeclarationStatement","src":"2280:34:109"},{"AST":{"nativeSrc":"2349:81:109","nodeType":"YulBlock","src":"2349:81:109","statements":[{"expression":{"arguments":[{"name":"str","nativeSrc":"2370:3:109","nodeType":"YulIdentifier","src":"2370:3:109"},{"name":"len","nativeSrc":"2375:3:109","nodeType":"YulIdentifier","src":"2375:3:109"}],"functionName":{"name":"mstore","nativeSrc":"2363:6:109","nodeType":"YulIdentifier","src":"2363:6:109"},"nativeSrc":"2363:16:109","nodeType":"YulFunctionCall","src":"2363:16:109"},"nativeSrc":"2363:16:109","nodeType":"YulExpressionStatement","src":"2363:16:109"},{"expression":{"arguments":[{"arguments":[{"name":"str","nativeSrc":"2403:3:109","nodeType":"YulIdentifier","src":"2403:3:109"},{"kind":"number","nativeSrc":"2408:4:109","nodeType":"YulLiteral","src":"2408:4:109","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"2399:3:109","nodeType":"YulIdentifier","src":"2399:3:109"},"nativeSrc":"2399:14:109","nodeType":"YulFunctionCall","src":"2399:14:109"},{"name":"sstr","nativeSrc":"2415:4:109","nodeType":"YulIdentifier","src":"2415:4:109"}],"functionName":{"name":"mstore","nativeSrc":"2392:6:109","nodeType":"YulIdentifier","src":"2392:6:109"},"nativeSrc":"2392:28:109","nodeType":"YulFunctionCall","src":"2392:28:109"},"nativeSrc":"2392:28:109","nodeType":"YulExpressionStatement","src":"2392:28:109"}]},"evmVersion":"cancun","externalReferences":[{"declaration":54641,"isOffset":false,"isSlot":false,"src":"2375:3:109","valueSize":1},{"declaration":54635,"isOffset":false,"isSlot":false,"src":"2415:4:109","valueSize":1},{"declaration":54647,"isOffset":false,"isSlot":false,"src":"2370:3:109","valueSize":1},{"declaration":54647,"isOffset":false,"isSlot":false,"src":"2403:3:109","valueSize":1}],"flags":["memory-safe"],"id":54653,"nodeType":"InlineAssembly","src":"2324:106:109"},{"expression":{"id":54654,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54647,"src":"2446:3:109","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":54639,"id":54655,"nodeType":"Return","src":"2439:10:109"}]},"documentation":{"id":54632,"nodeType":"StructuredDocumentation","src":"2000:73:109","text":" @dev Decode a `ShortString` back to a \"normal\" string."},"implemented":true,"kind":"function","modifiers":[],"name":"toString","nameLocation":"2087:8:109","parameters":{"id":54636,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54635,"mutability":"mutable","name":"sstr","nameLocation":"2108:4:109","nodeType":"VariableDeclaration","scope":54657,"src":"2096:16:109","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"},"typeName":{"id":54634,"nodeType":"UserDefinedTypeName","pathNode":{"id":54633,"name":"ShortString","nameLocations":["2096:11:109"],"nodeType":"IdentifierPath","referencedDeclaration":54577,"src":"2096:11:109"},"referencedDeclaration":54577,"src":"2096:11:109","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}},"visibility":"internal"}],"src":"2095:18:109"},"returnParameters":{"id":54639,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54638,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":54657,"src":"2137:13:109","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":54637,"name":"string","nodeType":"ElementaryTypeName","src":"2137:6:109","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2136:15:109"},"scope":54788,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":54689,"nodeType":"FunctionDefinition","src":"2528:245:109","nodes":[],"body":{"id":54688,"nodeType":"Block","src":"2598:175:109","nodes":[],"statements":[{"assignments":[54667],"declarations":[{"constant":false,"id":54667,"mutability":"mutable","name":"result","nameLocation":"2616:6:109","nodeType":"VariableDeclaration","scope":54688,"src":"2608:14:109","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54666,"name":"uint256","nodeType":"ElementaryTypeName","src":"2608:7:109","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":54677,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":54676,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":54672,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54661,"src":"2652:4:109","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}],"expression":{"id":54670,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54577,"src":"2633:11:109","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$54577_$","typeString":"type(ShortString)"}},"id":54671,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2645:6:109","memberName":"unwrap","nodeType":"MemberAccess","src":"2633:18:109","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$54577_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":54673,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2633:24:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":54669,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2625:7:109","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":54668,"name":"uint256","nodeType":"ElementaryTypeName","src":"2625:7:109","typeDescriptions":{}}},"id":54674,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2625:33:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"&","rightExpression":{"hexValue":"30784646","id":54675,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2661:4:109","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0xFF"},"src":"2625:40:109","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2608:57:109"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":54680,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":54678,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54667,"src":"2679:6:109","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3331","id":54679,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2688:2:109","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"31"},"src":"2679:11:109","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54685,"nodeType":"IfStatement","src":"2675:69:109","trueBody":{"id":54684,"nodeType":"Block","src":"2692:52:109","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":54681,"name":"InvalidShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54587,"src":"2713:18:109","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":54682,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2713:20:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":54683,"nodeType":"RevertStatement","src":"2706:27:109"}]}},{"expression":{"id":54686,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54667,"src":"2760:6:109","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":54665,"id":54687,"nodeType":"Return","src":"2753:13:109"}]},"documentation":{"id":54658,"nodeType":"StructuredDocumentation","src":"2462:61:109","text":" @dev Return the length of a `ShortString`."},"implemented":true,"kind":"function","modifiers":[],"name":"byteLength","nameLocation":"2537:10:109","parameters":{"id":54662,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54661,"mutability":"mutable","name":"sstr","nameLocation":"2560:4:109","nodeType":"VariableDeclaration","scope":54689,"src":"2548:16:109","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"},"typeName":{"id":54660,"nodeType":"UserDefinedTypeName","pathNode":{"id":54659,"name":"ShortString","nameLocations":["2548:11:109"],"nodeType":"IdentifierPath","referencedDeclaration":54577,"src":"2548:11:109"},"referencedDeclaration":54577,"src":"2548:11:109","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}},"visibility":"internal"}],"src":"2547:18:109"},"returnParameters":{"id":54665,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54664,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":54689,"src":"2589:7:109","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54663,"name":"uint256","nodeType":"ElementaryTypeName","src":"2589:7:109","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2588:9:109"},"scope":54788,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":54729,"nodeType":"FunctionDefinition","src":"2887:340:109","nodes":[],"body":{"id":54728,"nodeType":"Block","src":"2996:231:109","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":54706,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"arguments":[{"id":54702,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54692,"src":"3016:5:109","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":54701,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3010:5:109","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":54700,"name":"bytes","nodeType":"ElementaryTypeName","src":"3010:5:109","typeDescriptions":{}}},"id":54703,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3010:12:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":54704,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3023:6:109","memberName":"length","nodeType":"MemberAccess","src":"3010:19:109","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"3332","id":54705,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3032:2:109","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"src":"3010:24:109","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":54726,"nodeType":"Block","src":"3094:127:109","statements":[{"expression":{"id":54719,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"arguments":[{"id":54715,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54694,"src":"3134:5:109","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"expression":{"id":54712,"name":"StorageSlot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55107,"src":"3108:11:109","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_StorageSlot_$55107_$","typeString":"type(library StorageSlot)"}},"id":54714,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3120:13:109","memberName":"getStringSlot","nodeType":"MemberAccess","referencedDeclaration":54889,"src":"3108:25:109","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_storage_ptr_$returns$_t_struct$_StringSlot_$54809_storage_ptr_$","typeString":"function (string storage pointer) pure returns (struct StorageSlot.StringSlot storage pointer)"}},"id":54716,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3108:32:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_StringSlot_$54809_storage_ptr","typeString":"struct StorageSlot.StringSlot storage pointer"}},"id":54717,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3141:5:109","memberName":"value","nodeType":"MemberAccess","referencedDeclaration":54808,"src":"3108:38:109","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":54718,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54692,"src":"3149:5:109","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"src":"3108:46:109","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"id":54720,"nodeType":"ExpressionStatement","src":"3108:46:109"},{"expression":{"arguments":[{"id":54723,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54581,"src":"3192:17:109","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":54721,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54577,"src":"3175:11:109","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$54577_$","typeString":"type(ShortString)"}},"id":54722,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3187:4:109","memberName":"wrap","nodeType":"MemberAccess","src":"3175:16:109","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$54577_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":54724,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3175:35:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}},"functionReturnParameters":54699,"id":54725,"nodeType":"Return","src":"3168:42:109"}]},"id":54727,"nodeType":"IfStatement","src":"3006:215:109","trueBody":{"id":54711,"nodeType":"Block","src":"3036:52:109","statements":[{"expression":{"arguments":[{"id":54708,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54692,"src":"3071:5:109","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":54707,"name":"toShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54631,"src":"3057:13:109","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_memory_ptr_$returns$_t_userDefinedValueType$_ShortString_$54577_$","typeString":"function (string memory) pure returns (ShortString)"}},"id":54709,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3057:20:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}},"functionReturnParameters":54699,"id":54710,"nodeType":"Return","src":"3050:27:109"}]}}]},"documentation":{"id":54690,"nodeType":"StructuredDocumentation","src":"2779:103:109","text":" @dev Encode a string into a `ShortString`, or write it to storage if it is too long."},"implemented":true,"kind":"function","modifiers":[],"name":"toShortStringWithFallback","nameLocation":"2896:25:109","parameters":{"id":54695,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54692,"mutability":"mutable","name":"value","nameLocation":"2936:5:109","nodeType":"VariableDeclaration","scope":54729,"src":"2922:19:109","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":54691,"name":"string","nodeType":"ElementaryTypeName","src":"2922:6:109","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"},{"constant":false,"id":54694,"mutability":"mutable","name":"store","nameLocation":"2958:5:109","nodeType":"VariableDeclaration","scope":54729,"src":"2943:20:109","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":54693,"name":"string","nodeType":"ElementaryTypeName","src":"2943:6:109","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2921:43:109"},"returnParameters":{"id":54699,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54698,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":54729,"src":"2983:11:109","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"},"typeName":{"id":54697,"nodeType":"UserDefinedTypeName","pathNode":{"id":54696,"name":"ShortString","nameLocations":["2983:11:109"],"nodeType":"IdentifierPath","referencedDeclaration":54577,"src":"2983:11:109"},"referencedDeclaration":54577,"src":"2983:11:109","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}},"visibility":"internal"}],"src":"2982:13:109"},"scope":54788,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":54756,"nodeType":"FunctionDefinition","src":"3358:267:109","nodes":[],"body":{"id":54755,"nodeType":"Block","src":"3467:158:109","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":54745,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":54742,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54733,"src":"3500:5:109","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}],"expression":{"id":54740,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54577,"src":"3481:11:109","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$54577_$","typeString":"type(ShortString)"}},"id":54741,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3493:6:109","memberName":"unwrap","nodeType":"MemberAccess","src":"3481:18:109","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$54577_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":54743,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3481:25:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":54744,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54581,"src":"3510:17:109","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3481:46:109","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":54753,"nodeType":"Block","src":"3582:37:109","statements":[{"expression":{"id":54751,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54735,"src":"3603:5:109","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}},"functionReturnParameters":54739,"id":54752,"nodeType":"Return","src":"3596:12:109"}]},"id":54754,"nodeType":"IfStatement","src":"3477:142:109","trueBody":{"id":54750,"nodeType":"Block","src":"3529:47:109","statements":[{"expression":{"arguments":[{"id":54747,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54733,"src":"3559:5:109","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}],"id":54746,"name":"toString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54657,"src":"3550:8:109","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$54577_$returns$_t_string_memory_ptr_$","typeString":"function (ShortString) pure returns (string memory)"}},"id":54748,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3550:15:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":54739,"id":54749,"nodeType":"Return","src":"3543:22:109"}]}}]},"documentation":{"id":54730,"nodeType":"StructuredDocumentation","src":"3233:120:109","text":" @dev Decode a string that was encoded to `ShortString` or written to storage using {setWithFallback}."},"implemented":true,"kind":"function","modifiers":[],"name":"toStringWithFallback","nameLocation":"3367:20:109","parameters":{"id":54736,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54733,"mutability":"mutable","name":"value","nameLocation":"3400:5:109","nodeType":"VariableDeclaration","scope":54756,"src":"3388:17:109","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"},"typeName":{"id":54732,"nodeType":"UserDefinedTypeName","pathNode":{"id":54731,"name":"ShortString","nameLocations":["3388:11:109"],"nodeType":"IdentifierPath","referencedDeclaration":54577,"src":"3388:11:109"},"referencedDeclaration":54577,"src":"3388:11:109","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":54735,"mutability":"mutable","name":"store","nameLocation":"3422:5:109","nodeType":"VariableDeclaration","scope":54756,"src":"3407:20:109","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":54734,"name":"string","nodeType":"ElementaryTypeName","src":"3407:6:109","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3387:41:109"},"returnParameters":{"id":54739,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54738,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":54756,"src":"3452:13:109","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":54737,"name":"string","nodeType":"ElementaryTypeName","src":"3452:6:109","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3451:15:109"},"scope":54788,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":54787,"nodeType":"FunctionDefinition","src":"4000:279:109","nodes":[],"body":{"id":54786,"nodeType":"Block","src":"4105:174:109","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":54772,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":54769,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54760,"src":"4138:5:109","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}],"expression":{"id":54767,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54577,"src":"4119:11:109","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$54577_$","typeString":"type(ShortString)"}},"id":54768,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4131:6:109","memberName":"unwrap","nodeType":"MemberAccess","src":"4119:18:109","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$54577_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":54770,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4119:25:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":54771,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54581,"src":"4148:17:109","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"4119:46:109","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":54784,"nodeType":"Block","src":"4222:51:109","statements":[{"expression":{"expression":{"arguments":[{"id":54780,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54762,"src":"4249:5:109","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"id":54779,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4243:5:109","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":54778,"name":"bytes","nodeType":"ElementaryTypeName","src":"4243:5:109","typeDescriptions":{}}},"id":54781,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4243:12:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes storage pointer"}},"id":54782,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4256:6:109","memberName":"length","nodeType":"MemberAccess","src":"4243:19:109","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":54766,"id":54783,"nodeType":"Return","src":"4236:26:109"}]},"id":54785,"nodeType":"IfStatement","src":"4115:158:109","trueBody":{"id":54777,"nodeType":"Block","src":"4167:49:109","statements":[{"expression":{"arguments":[{"id":54774,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54760,"src":"4199:5:109","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}],"id":54773,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54689,"src":"4188:10:109","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$54577_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":54775,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4188:17:109","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":54766,"id":54776,"nodeType":"Return","src":"4181:24:109"}]}}]},"documentation":{"id":54757,"nodeType":"StructuredDocumentation","src":"3631:364:109","text":" @dev Return the length of a string that was encoded to `ShortString` or written to storage using\n {setWithFallback}.\n WARNING: This will return the \"byte length\" of the string. This may not reflect the actual length in terms of\n actual characters as the UTF-8 encoding of a single character can span over multiple bytes."},"implemented":true,"kind":"function","modifiers":[],"name":"byteLengthWithFallback","nameLocation":"4009:22:109","parameters":{"id":54763,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54760,"mutability":"mutable","name":"value","nameLocation":"4044:5:109","nodeType":"VariableDeclaration","scope":54787,"src":"4032:17:109","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"},"typeName":{"id":54759,"nodeType":"UserDefinedTypeName","pathNode":{"id":54758,"name":"ShortString","nameLocations":["4032:11:109"],"nodeType":"IdentifierPath","referencedDeclaration":54577,"src":"4032:11:109"},"referencedDeclaration":54577,"src":"4032:11:109","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$54577","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":54762,"mutability":"mutable","name":"store","nameLocation":"4066:5:109","nodeType":"VariableDeclaration","scope":54787,"src":"4051:20:109","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":54761,"name":"string","nodeType":"ElementaryTypeName","src":"4051:6:109","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"4031:41:109"},"returnParameters":{"id":54766,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54765,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":54787,"src":"4096:7:109","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54764,"name":"uint256","nodeType":"ElementaryTypeName","src":"4096:7:109","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4095:9:109"},"scope":54788,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"ShortStrings","contractDependencies":[],"contractKind":"library","documentation":{"id":54578,"nodeType":"StructuredDocumentation","src":"378:876:109","text":" @dev This library provides functions to convert short memory strings\n into a `ShortString` type that can be used as an immutable variable.\n Strings of arbitrary length can be optimized using this library if\n they are short enough (up to 31 bytes) by packing them with their\n length (1 byte) in a single EVM word (32 bytes). Additionally, a\n fallback mechanism can be used for every other case.\n Usage example:\n ```solidity\n contract Named {\n     using ShortStrings for *;\n     ShortString private immutable _name;\n     string private _nameFallback;\n     constructor(string memory contractName) {\n         _name = contractName.toShortStringWithFallback(_nameFallback);\n     }\n     function name() external view returns (string memory) {\n         return _name.toStringWithFallback(_nameFallback);\n     }\n }\n ```"},"fullyImplemented":true,"linearizedBaseContracts":[54788],"name":"ShortStrings","nameLocation":"1263:12:109","scope":54789,"usedErrors":[54585,54587],"usedEvents":[]}],"license":"MIT"},"id":109}